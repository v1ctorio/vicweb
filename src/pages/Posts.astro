---
const allPosts:Post[] = await fetch('http://vic.hackclub.app/posts').then((res) => res.json());
import Layout from '../layouts/Layout.astro';
import { type Post } from '../types';
console.log(allPosts);

console.log({allPosts});


---

<Layout title="Vic.">
	<div>
	<main>
		<h1>~/Posts</h1>
    <div class="postsbox">
		{allPosts.map((post) =>
		<a href={"/post/"+post._id}> 
		<div class="post">
			<p class="content">{post.content}</p>
			<p class="date">{post.date}</p>
		</div>
	</a>
		)}
		</div>
	</main>
</div>
</Layout>

<style>
	.strike {
		text-decoration: line-through;
	}
	main {
		margin-top: 60px;
		justify-content: center;
		flex-direction: column;
		max-width: 65ch;
		width: 100%;
		display: flex;
		margin-left: auto;
		margin-right: auto;
	}
	h1 {
		padding: 10px 0px 10px 0px;
		font-size: 50px;
	}
	p {
		padding-top: 10px ;
	}
	.posts {
        width: 100%;
    }
	.post {
		border-radius: 10px;
		box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        padding-top: 0rem;
        padding-bottom: 0.5rem;
        background-color: var(--white-ola);
		cursor: pointer;
		transition: all 0.2s;
		margin-bottom: -10px;
    }
	.post:hover {
		transform: translateY(-5px);
	}
    .content {
		font-size: 0.8rem;
    }
    .date {
        text-align: right;
		font-size: 0.5rem;
		color: #666
    }
    a {
		text-decoration: none;
		color: black;
	}
	}

</style>
